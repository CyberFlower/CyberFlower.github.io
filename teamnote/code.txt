#include<bits/stdc++.h>
using namespace std;
const int SZ = 2*10005;
int num[SZ];
int low[SZ];
int scc[SZ];
vector<int> graph[SZ];
stack<int> s;
int p,q,n,m;
void dfs(int x){
	s.push(x);
	num[x]=++p;
	low[x]=p;
	for(int nxt : graph[x]){
		if(num[nxt]==0){
			dfs(nxt);
			low[x]=min(low[x],low[nxt]);
		}
		else if(scc[nxt]==0) low[x]=min(low[x],num[nxt]);
	}
	if(num[x]==low[x]){
		q++;
		while(!s.empty()){
			int t = s.top(); s.pop();
			scc[t]=q;
			if(t==x) break;
		}
	}
}
int sat(){
	for(int i=1;i<=n;i++){
		if(scc[i]==scc[i+n]) return false;
	}
	return true;
}
int main(void){
	scanf("%d %d",&n,&m);
	for(int i=0;i<m;i++){
		int x,y; scanf("%d %d",&x,&y);
		graph[x>0?x+n:-x].push_back(y<0?-y+n:y);
		graph[y>0?y+n:-y].push_back(x<0?-x+n:x);
	}
	for(int i=1;i<=2*n;i++){
		if(num[i]!=0) continue;
		dfs(i);
	}
	if(sat()){
		printf("1\n");
		for(int i=1;i<=n;i++) printf("%d ",scc[i]<scc[n+i]);  // true or false 예시 하나 찾는 코드
	}
	else printf("0");
	return 0;
}
